# 第1章 计算机系统漫游

Q：学习本书的目的？

A： 1）程序的正确性+性能；

​		2）在完全彻底理解底层计算机系统以及它对应用程序的影响，能够让自己成为“大牛”。

Q：本书的目的是什么？

A：帮助你了解在系统上执行hello程序时，系统发生了什么，以及为什么会这样。

Q：对于hello程序，需要哪些了解？

A：1）程序的生命周期；

​		2）关键概念；

​		3）专业术语；

​		4）组成部分。

Q：文本文件和二进制文件的区别？

A：只由ASCII字符构成的文件称为文本文件，所有其他文件都称为二进制文件。

Q：比较C和C++?

A：C语言小而简洁，抽象性不强。

Q：编译系统的组成？

A：预处理器、编译器、汇编器和连接器；

​	1）预处理器（cpp）：hello.c -> hello.i；

​	2）编译器（ccl）：hello.i -> hello.s ，不同高级语言的不同编译器提供了通用的输出汇编语言。

​	3）汇编器（as）：hello.s -> hello.o，

​	4）连接器（ld）：hello.o + printf.o -> hello。

Q：为什么要了解编译系统如何工作的？

A：1）优化程序性能；2）理解链接时出现的错误；3）避免安全漏洞。PS：这部分内容书中抛出了一些很实际的问题，需要深入学习本书后解决，具体见P4-P5。

### 1.4 处理器读并解释储存在内存中的指令

Q：什么是shell？

A：shell是一个命令行解释器。

#### 1.4.1 系统的硬件组成

Q：计算机硬件系统基本组成有哪些？

A：总线、I/O设备、主存和处理器。具体见P6-P7。

Q：处理器的核心是什么？

A：处理器的核心是一个字节大小的程序计数器（PC），其本质上是寄存器。

Q：CPU指令执行的基本操作有哪些？

A：加载、存储、操作和跳转。

Q：本节相关章节有哪些？

A：第3-5章，具体如何相关见P7。

### 1.5 高速缓存至关重要

Q：为什么要引入高速缓存（Cache）？

A：1）性能：处理器 > 主存；2）成本：处理器>主存；3）面积：处理器<主存。为了解决处理器和主存之间的矛盾，引入了Cache。合理利用Cache，能够使得程序性能上一个数量级，具体见第6章。

### 1.6 存储设备形成层次结构

Q：存储器层次结构是什么样的？

A：具体见P10的金字塔图。

Q：理解整个存储器层次结构有什么用？

A：提高程序的性能。

### 1.7 操作系统管理硬件

Q：如何理解操作系统？

A：可以将操作系统看成应用程序和硬件之间的一层软件，具体见图1-11。所有应用程序对硬件的操作尝试都必须通过操作系统。

Q：操作系统的基本功能有哪些？

A：1）安全性：防止硬件被失控的应用程序滥用；

2）统一性：向应用程序提供简单一致的机制来控制复杂而又通常大不相同的低级硬件设备。

Q：操作系统是如何实现安全性和统一性的？

A：操作系统通过进程、虚拟内存和文件这几个基本的抽象概念来实现这两个功能，具体见P10-P11。

#### 1.7.1 进程

**Q**：什么是进程？

A：进程是操作系统对一个正在运行的程序的一种抽象。

Q：什么是上下文切换？

A：操作系统实现交错执行的机制称为上下文切换。

Q：如何实现进程切换？

A：从一个进程切换到另外一个进程是由操作系统内核（kernel）管理的。

Q：什么是内核？

A：内核是操作系统代码常驻主存的部分。具体解释见书本。

Q：如何实现进程？

A：将在第8章介绍。

#### 1.7.2 线程

Q：线程与进程的关系？

A：一个进程实际上可以由多个称为线程的执行单元组成，每个线程都运行在进程的上下文中，并共享同样代码和全局数据。

#### 1.7.3 虚拟内存

Q：什么叫虚拟内存？

A：虚拟内存是一个抽象概念，它为每个进程提供一个假象，即每个进程都独占地使用主存。每个进程看到的内存都是一致的，称为虚拟地址空间。

Q：进程的虚拟地址空间由哪些部分组成？

A：程序代码和数据（第7章）、堆（第9章）、共享库（第7章）、栈（第3章）和内核虚拟内存（第9章）。

#### 1.7.4 文件

Q：什么叫字节序列？

A：文件就是字节序列。

#### 1.8 系统之间利用网络通信

Q：本小节讲了啥？

A：telnet的基本原理，相关章节为第11章。

#### 1.9 重要主题

Q：本书的目的是什么？

A：帮助程序员写出更快速、更可靠和更安全的程序。

#### 1.9.1 Amdahl定律

#### 1.9.2 并发和并行

#### 1.9.3 计算机系统中抽象的重要性





















## 参考资料

深入理解计算机系统 第三版