# 第一部分 程序结构和执行

书中的2段话值得反复玩读。

# 第2章 信息的表示与处理

**Q**：GCC的全称是什么？

**A**：GNU编译器套装（GNU Compiler Collection，GCC）。

**Q**：C版本和GCC命令行选项之间的关系是什么？

**A**：GCC可以基于不同的命令行选项，依照多个不同版本的C语言规则来编译程序，具体关系见书中图2-1。

**说明**：本书中，没有指定任何编译选项时，程序会按照基于ISO C90的C语言版本进行编译，但是也包括一些C99、C11的特性，一些C++的特性，还有一些是与GCC相关的特性。

## 2.1 信息存储

**说明**：大多数计算机使用8位的块，或者**字节**（byte），作为最小的可寻址的内存单位，而不是访问内存中单独的位。因而我们以后在涉及到内存概念的时候，讨论的单位都要是字节，而不是位。

Q：什么叫虚拟内存（virtual memory）？

A：机器级程序将内存视为一个非常大的字节数组，称为虚拟内存。

Q：什么叫地址（adress）？

A：内存的每个字节都由一个唯一的数字来标识，称为它的地址。

Q：什么叫虚拟地址空间（virtual address space）？

A：所有可能地址的集合就称为虚拟地址空间。

说明：顾名思义，这个虚拟地址空间只是一个展现给机器级程序的概念性映像。实际的实现（见第9章）是将动态随机访问存储器（DRAM）、闪存、磁盘存储器、特殊硬件和操作系统软件结合起来，为程序提供一个看上去统一的字节数组。

Q：如何理解C语言中指针的作用？

A：指针提供了引用数据结构（包括数组）的元素的机制。与变量类似，指针也有2个方面：值和类型。它的值表示某个对象的位置，而它的类型表示那个位置上所存储对象的类型（比如整数或者浮点数）。

说明：真正理解指针需要查看它们在机器级上的表示以及实现。这将是第3章的重点之一，3.10.1节将对其进行深入介绍。

学习数据的表示，特别是数字怎样以不同形式展示和它们一些对应的属性

抗干扰、易存储

### 2.1.1 十六进制表示法

**Q**：如何快速写出16进制中A~F对应的二进制数？

**A**：记住A对应1010，C对应1100，F对应1111，其它的在此之间。

Q：二进制如何转换为十六进制？

A：基本转换原则是将二进制每4位一组转换为十六进制。如果位总数不是4的倍数，最左边的一组可以少于4位，前面用0补足，然后将每4位转换为相应的十六进制数字。

说明：当值x是2的非负整数n次幂时，我们可以很容易地将x写成十六进制形式。

Q：十进制和十六进制之间是如何转换的？

A：

1）十进制和十六进制表示之间的转换需要使用乘法和除法来处理一般情况；

2）较大数值的十进制和十六进制之间的转换，最好是让计算机或者计算器来完成。

### 2.1.2 字数据大小

说明：每台计算机都有一个字长（word size），指明指明指针数据的标称大小（nominal size）。

### 2.1.3 寻址和字节顺序

**重点**：1个地址存储1个字节的数据。

Q：如何理解小端法（little endian）和大端法（big endian）？

A：

1）总结起来就是低字节存于低地址就是小端法，低字节存于高地址就是大端法)；

2）小端法和大端法都是表示数据的方式，并无优劣之分。

**说明**：对于跨越多字节的程序对象，我们必须建立两个规则：这个对象的地址是什么？在内存中如何排列这些字节？在几乎所有的机器上，多字节对象都被存储为连续的字节序列，对象的地址为所有使用字节中最小的地址。

Q：如何理解C格式化指令“%.2x”？

A：该指令表示整数必须用至少2个数字的十六进制格式输出。

**Q**：C语言中的`typedef`有什么用？

**A**：`typedef`声明提供了一种给数据类型命名的方式。这能够极大地改善代码的可读性，因为深度嵌套的类型声明很难读懂。

**Q**：如何理解`typedef`的语法？

**A**：`typedef`的语法与声明变量的语法十分相像，除了它使用的是类型名，而不是变量名。

**Q**：如何生成一张ASICII表？

**A**：可以通过执行命令`man ascii`来得到一张ASCII字符码的表。

### 2.1.4 表示字符串

Q：为什么二进制代码很少能在不同机器和操作系统组合之间移植？

A：因为不同的机器类型使用不同的且不兼容的指令和编码方式。即使是完全一样的进程，运行在不同的操作系统上也会有不同的编码规则，因而二进制代码是不兼容的。因此，二进制代码很少能在不同机器和操作系统组合之间移植。

### 2.1.5 表示代数

### 2.1.6 布尔代数简介

### 2.1.7 C语言中的位级运算

### 2.1.8 C语言中的逻辑运算

注意：逻辑运算和位级运算有相似性也有差异性，在写代码时，往往会出现用错的bug。

### 2.1.9 C语言中的移位运算

左移右侧填充0，右移分为逻辑右移和算术右移，逻辑右移左侧填充0，算术右移，如果原始数据最高位为1，则右移左侧填充1，反之最高位为0，则右移左侧填充0。

## 2.2 整数表示

### 2.2.3 补码编码

**Q**:补码(two's-complement)的作用是什么?

**A**:补码的作用在于表示负数值.



**Q**：如何理解无符号数值和有符号数值？

**A**：有符号数值用补码表示，视频22'分别使用数学公式表示（本质上是用函数表示），讲的太好了，太精妙了，数学真是强大啊！



**Q**：位运算与集合有什么关系？

**A**：集合的逻辑运算可以转换为2进制的逻辑运算，这种运算非常巧妙，具体见视频12'。

**Q**：二进制位运算与集合的这种关系，有什么应用呢？

**A**：如文件I/O中，本课程后序的内容会讲到。

**Q**：如何区分&和&&？

**A**：一个是位操作、一个是真假运算。

**Q**：移位操作有哪些特性？

**A**：左移都是相同的（低位填充0），但是右移有两种方式（逻辑移位和算术移位，当移位前的最高位为符号位且为1时，右移将填充1）。

**Q**：将8位数x左移8位会有什么样的结果呢？

**A**：在大多数机器上将得到的还是x，而不是0。

**重要说明**：当无符号数和有符号数在一个表达式中进行比较时，有符号的数将隐式的转换为无符号数。

# 说明：学习到视频50‘，后续内容待学习！！！



## 参考资料

深入理解计算机系统 第三版

[【精校中英字幕】2015 CMU 15-213 CSAPP 深入理解计算机系统 课程视频 Lecture 2](https://www.bilibili.com/video/av31289365?p=2 ) 